# Hazel Kahlil Portfolio — 迭代完善计划 v5.0

> **创建日期**: 2026-02-12
> **最后更新**: 2026-02-12
> **负责人**: Hazel Kahlil × Antigravity AI

---

## 📊 当前项目状态总览

### ✅ 已完成功能

| 模块 | 状态 | 说明 |
|------|------|------|
| 首页 Hero Gallery | ✅ 完成 | 不规则绝对定位布局 + 移动端瀑布流 |
| 项目详情页 Slider | ✅ 完成 | 桌面端/移动端适配，含手势滑动 |
| Portfolios 列表页 | ✅ 完成 | 网格布局 + 悬停效果 |
| Info 关于页 | ✅ 完成 | 传记文本 + 布局控制 |
| Contact 联系页 | ✅ 完成 | 双栏布局 + 随机/固定图片 |
| 404 页面 | ✅ 完成 | 随机诗意消息 |
| Admin CMS | ✅ 基本完成 | Swiss Editorial 风格，4个管理模块 |
| SPA 路由 (Barba.js) | ✅ 完成 | 页面无刷新切换 |
| 主题切换 (Dark Mode) | ✅ 完成 | Apple 风格切换按钮 |
| 雪花特效 | ✅ 完成 | 粒子系统 + "let it snow" 按钮 |
| 音效系统 | ✅ 完成 | 悬停/点击音效反馈 |
| 图片保护 | ✅ 完成 | 禁止右键 + 拖拽 |
| 国际化 (Admin) | ✅ 完成 | 中/英双语切换 |
| 可视化布局编辑器 | ✅ 完成 | Desktop/Mobile 画布 + 属性面板 |
| 图片拖拽排序 | ✅ 完成 | SortableJS |
| 一键发布 (Git Push) | ✅ 完成 | Admin → Vercel 自动部署 |
| 移动端水平滑动画廊 | ✅ 完成 | Scroll-snap 实现 |
| 汉堡菜单动画 | ✅ 完成 | CSS 三线变叉 |

---

## 🚀 下一阶段迭代计划

### Phase 1: Admin UX 深度优化 (P0/P1)

> 状态：**从上次对话中断处继续**

#### 1.1 Admin 板块实时预览系统 ⭐⭐⭐

**目标**: 每个 Admin 板块增加迷你实时预览，让编辑者直观看到修改效果

| 板块 | 预览内容 | 实现方式 |
|------|----------|----------|
| **Index** | ✅ 已有可视化编辑器 | — |
| **Portfolios** | 项目列表页缩略图预览 | iframe 或 DOM 克隆 |
| **Info** | Bio 文本排版预览 | 实时渲染面板，模拟前端样式 |
| **Contact** | 联系页双栏布局预览 | 迷你 DOM 模拟 |

**优先级**: P1 — 提升编辑效率  
**文件**: `admin.html` (CSS + JS)

#### 1.2 项目管理增强 ⭐⭐

| 功能 | 描述 | 当前状态 |
|------|------|----------|
| **批量图片上传进度** | 上传多张图片时显示进度条和已完成数量 | ❌ 缺失 |
| **Gallery 批量操作** | 全选/反选/批量删除 gallery 图片 | ❌ 缺失 |
| **封面图快速选择** | 从 gallery 中点击选择封面图，而非单独上传 | ❌ 缺失 |
| **项目复制** | 一键复制已有项目作为模板 | ❌ 缺失 |
| **Gallery 图片数量统计** | 每个项目显示 `28 photos` 徽标 | ❌ 缺失 |

**优先级**: P1  
**文件**: `admin.html`

#### 1.3 编辑器体验增强 ⭐⭐

| 功能 | 描述 |
|------|------|
| **未保存更改提示** | 离开页面前检测未保存修改并弹出确认框 |
| **撤销/重做** | 维护操作历史栈，支持 Ctrl+Z / Ctrl+Shift+Z |
| **自动保存草稿** | 每 60 秒自动保存到 localStorage |
| **键盘快捷键** | Ctrl+S 保存, Ctrl+P 发布 |

**优先级**: P1  
**文件**: `admin.html`

---

### Phase 2: 前端视觉与交互优化 (P1/P2)

#### 2.1 性能优化 ⭐⭐⭐

| 优化项 | 当前状态 | 目标 |
|--------|----------|------|
| **图片懒加载** | 部分实现 (gallery) | 全站 `loading="lazy"` + IntersectionObserver |
| **WebP 自动转换** | 服务端已有 | 确认所有新上传图片自动转 WebP |
| **图片尺寸优化** | 无 | 上传时生成 thumbnail (300px) + medium (800px) + full |
| **CSS/JS 压缩** | 无 | 构建时 minify (或 Vercel 自动) |
| **首屏加载优化** | 无 | 关键 CSS 内联，非关键资源延迟加载 |

**优先级**: P1 — 直接影响用户体验  
**文件**: `server.py`, `script.js`, `style.css`, 各 HTML 文件

#### 2.2 SEO 完善 ⭐⭐

| 优化项 | 当前状态 | 目标 |
|--------|----------|------|
| **结构化数据** | ❌ 缺失 | 添加 Schema.org `Photograph`, `Person`, `WebSite` |
| **Sitemap.xml** | ❌ 缺失 | 自动生成 sitemap 包含所有项目页 |
| **robots.txt** | ❌ 缺失 | 允许爬虫索引，排除 admin.html |
| **Open Graph 完善** | 仅首页 | 所有页面添加 OG 标签 |
| **Canonical URLs** | ❌ 缺失 | 防止重复内容 |

**优先级**: P2  
**文件**: 各 HTML 文件, `server.py` (动态生成 sitemap)

#### 2.3 动画与微交互 ⭐

| 功能 | 描述 |
|------|------|
| **页面过渡动画** | Barba.js 过渡增加更流畅的 fade + slide 效果 |
| **滚动视差** | Portfolio 列表页轻微视差滚动效果 |
| **图片加载动画** | 图片从模糊到清晰的渐进加载效果 |
| **页脚版权动画** | 缓慢滚入效果 |

**优先级**: P2  
**文件**: `style.css`, `script.js`

---

### Phase 3: 基础设施与安全 (P2/P3)

#### 3.1 安全加固 ⭐⭐

| 项目 | 当前 | 目标 |
|------|------|------|
| **Admin 密码** | 前端明文 `hazel2026` | 服务端 bcrypt 哈希验证 + JWT 会话 |
| **API 认证** | 无 | 所有 `/api/*` 路由需要 token |
| **上传安全** | 基本 | 文件类型白名单 + 大小限制 + 文件名清理 |
| **HTTPS** | Vercel 默认 | 确认强制 HTTPS 重定向 |

**优先级**: P2  
**文件**: `server.py`, `admin.html`

#### 3.2 开发体验优化 ⭐

| 项目 | 描述 |
|------|------|
| **热重载** | 文件修改后自动刷新浏览器 |
| **环境变量** | 密码、API密钥等从 `.env` 读取 |
| **日志系统** | 结构化日志输出，区分 INFO/WARN/ERROR |
| **错误处理** | 全局错误边界，优雅降级 |

**优先级**: P3  
**文件**: `server.py`

---

### Phase 4: 新功能探索 (P3)

#### 4.1 内容扩展

| 功能 | 描述 | 复杂度 |
|------|------|--------|
| **视频作品支持** | Gallery 中混合视频和图片 | ⭐⭐⭐ |
| **多语言前端** | 公开网站中英文切换 | ⭐⭐⭐ |
| **访客统计** | Privacy-friendly analytics (Umami/Plausible) | ⭐⭐ |
| **PWA 离线访问** | Service Worker + 缓存策略 | ⭐⭐ |
| **图片 EXIF 展示** | 自动读取相机型号/光圈/快门等信息 | ⭐⭐ |
| **作品集时间线** | 按年份时间轴浏览所有作品 | ⭐⭐ |

---

## 🎯 建议的执行顺序

```
第一优先：
├── 1.2 项目管理增强（批量操作 + 封面选择 + 图片统计）
├── 1.3 编辑器体验（未保存提示 + 键盘快捷键 + 自动保存）
└── 2.1 性能优化（懒加载 + 图片分级 + 首屏优化）

第二优先：
├── 1.1 实时预览系统（Info + Contact 预览面板）
├── 2.2 SEO 完善（sitemap + robots + 结构化数据）
└── 3.1 安全加固（密码加密 + API 认证）

第三优先：
├── 2.3 动画增强
├── 3.2 开发体验
└── 4.1 新功能探索
```

---

## 📝 技术债务记录

| 问题 | 严重性 | 描述 |
|------|--------|------|
| **admin.html 体积** | ⚠️ 中 | 单文件 107KB，2609 行。建议拆分为独立 CSS/JS 文件 |
| **全局变量** | ⚠️ 低 | script.js 使用多个全局变量，建议模块化 |
| **CSS 冗余** | ⚠️ 低 | style.css 2200+ 行，部分样式可能已无用 |
| **缓存版本号** | ⚠️ 低 | 手动管理 `?v=8.8`，建议自动化 |

---

## 📊 版本规划

| 版本 | 目标 | 预计时间 |
|------|------|----------|
| **v4.1** | Admin 项目管理增强 + 编辑器体验 | 1-2 天 |
| **v4.2** | 性能优化 + SEO 完善 | 1-2 天 |
| **v4.3** | 安全加固 + 实时预览系统 | 2-3 天 |
| **v5.0** | 视频支持 + 多语言 + 访客统计 | 长期迭代 |

---

*此计划由 Antigravity AI 协助整理，最后更新于 2026-02-12*
